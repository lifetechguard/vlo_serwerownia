<mxfile host="app.diagrams.net" modified="2025-08-28 08:41:29" agent="python" version="20.8.23" editor="5.0.2" type="device">

  <diagram id="VLO-LOGIC" name="1 – Warstwa logiczna">
    <mxGraphModel dx="1462" dy="827" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="title" value="VLO – Topologia logiczna (CCR1036)" style="text;whiteSpace=wrap;html=1;fontSize=20;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="20" width="520" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="wan-group" value="WAN / Łącza zewnętrzne" style="swimlane;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="40" y="70" width="430" height="270" as="geometry"/>
        </mxCell>

        <mxCell id="wan-cyf4" value="Cyfronet IPv4&#10;/29: 193.193.64.16/29&#10;GW: 193.193.64.17" style="shape=process;whiteSpace=wrap;rounded=1;html=1;" vertex="1" parent="wan-group">
          <mxGeometry x="20" y="40" width="180" height="70" as="geometry"/>
        </mxCell>

        <mxCell id="wan-cyf6" value="Cyfronet IPv6&#10;GW: 2001:6d8:0:1106::1" style="shape=process;whiteSpace=wrap;rounded=1;html=1;" vertex="1" parent="wan-group">
          <mxGeometry x="20" y="130" width="180" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="wan-ose" value="OSE (Internet uczniowie)&#10;ether3 (masq)" style="shape=process;whiteSpace=wrap;rounded=1;html=1;" vertex="1" parent="wan-group">
          <mxGeometry x="20" y="205" width="180" height="50" as="geometry"/>
        </mxCell>

        <mxCell id="router" value="CCR1036 (RouterOS 7.18.2)&#10;tablice: main, ose" style="shape=card;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="540" y="120" width="320" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="e1" edge="1" parent="1" source="wan-cyf4" target="router" style="endArrow=block;endFill=1;"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e2" edge="1" parent="1" source="wan-cyf6" target="router" style="endArrow=block;endFill=1;"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e3" edge="1" parent="1" source="wan-ose" target="router" style="endArrow=block;endFill=1;"><mxGeometry relative="1" as="geometry"/></mxCell>

        <mxCell id="core" value="sw-main (CORE)&#10;Trunk LACP (4xGE)&#10;VLAN: 10,15,16,17,20,70,72,77,78,300,302,308,330,416-420" style="shape=hexagon;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="540" y="300" width="320" height="110" as="geometry"/>
        </mxCell>
        <mxCell id="e4" edge="1" parent="1" source="router" target="core" style="endArrow=block;endFill=1;dashed=1;"><mxGeometry relative="1" as="geometry"/></mxCell>

        <mxCell id="zones" value="Strefy / VLAN" style="swimlane;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="900" y="70" width="920" height="800" as="geometry"/>
        </mxCell>

        <!-- Representative VLAN cards -->
        <mxCell id="v10" value="VLAN10 – Management&#10;10.10.0.0/16&#10;GW 10.10.0.1&#10;DHCP relay→10.10.0.7" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones"><mxGeometry x="20" y="40" width="220" height="100" as="geometry"/></mxCell>
        <mxCell id="v20" value="VLAN20 – Services&#10;10.20.0.0/24&#10;GW 10.20.0.1&#10;DC1 .231 | DC2 .232&#10;Wazuh .228 | Dysk .229&#10;FOG .230/.240" style="shape=card;whiteSpace=wrap;html=1;rounded=1;strokeColor=#60a917;" vertex="1" parent="zones"><mxGeometry x="260" y="40" width="320" height="140" as="geometry"/></mxCell>
        <mxCell id="v300" value="VLAN300 – Serwery publiczne&#10;IPv4: 193.193.65.224/27 (GW .225)&#10;IPv6: 2001:6d8:1000::/64" style="shape=card;whiteSpace=wrap;html=1;rounded=1;strokeColor=#cc0000;" vertex="1" parent="zones"><mxGeometry x="600" y="40" width="300" height="120" as="geometry"/></mxCell>
        <mxCell id="v308" value="VLAN308 – Pracownie&#10;192.168.8.0/21&#10;GW 192.168.8.1" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones"><mxGeometry x="20" y="200" width="260" height="90" as="geometry"/></mxCell>
        <mxCell id="v330" value="VLAN330 – INF3&#10;192.168.30.0/24&#10;GW 192.168.30.1&#10;RP PIM: 192.168.30.1" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones"><mxGeometry x="300" y="200" width="260" height="100" as="geometry"/></mxCell>
        <mxCell id="v416" value="VLAN416 – WiFi uczniowie&#10;172.16.0.0/22&#10;GW 172.16.0.1&#10;→ tablica 'ose' (OSE)" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones"><mxGeometry x="580" y="200" width="260" height="110" as="geometry"/></mxCell>
        <mxCell id="v417" value="VLAN417 – WiFi nauczyciele&#10;172.17.0.0/23&#10;GW 172.17.0.1" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones"><mxGeometry x="860" y="200" width="220" height="90" as="geometry"/></mxCell>
        <mxCell id="v418" value="VLAN418 – WiFi goście&#10;172.18.0.0/24&#10;GW 172.18.0.1" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones"><mxGeometry x="20" y="330" width="220" height="80" as="geometry"/></mxCell>
        <mxCell id="v419" value="VLAN419 – WiFi staff&#10;172.19.0.0/23&#10;GW 172.19.0.1" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones"><mxGeometry x="260" y="330" width="220" height="80" as="geometry"/></mxCell>
        <mxCell id="v420" value="VLAN420 – Classroom.VLO&#10;172.20.0.0/24&#10;GW 172.20.0.1" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones"><mxGeometry x="500" y="330" width="220" height="80" as="geometry"/></mxCell>

        <mxCell id="vpn" value="VPN / Zarządzanie: WireGuard, OpenVPN, IKEv2" style="shape=note;whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="540" y="450" width="320" height="110" as="geometry"/>
        </mxCell>

        <mxCell id="nat" value="NAT (Cyfronet IPv4): Pracownie→245–251, Staff→252, Teacher→251, Mgmt/VoIP/Mon→253, Pozostałe→254; Uczniowie→OSE (masq)" style="shape=note;whiteSpace=wrap;html=1;rounded=1;fillColor=#e3f2fd;strokeColor=#64b5f6;" vertex="1" parent="1">
          <mxGeometry x="540" y="580" width="320" height="110" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>


  <diagram id="VLO-PHYS" name="2 – Warstwa fizyczna">
    <mxGraphModel dx="1462" dy="827" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <mxCell id="title2" value="VLO – Warstwa fizyczna / okablowanie kluczowe" style="text;whiteSpace=wrap;html=1;fontSize=20;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="20" width="650" height="30" as="geometry"/>
        </mxCell>

        <!-- Devices -->
        <mxCell id="cyf4" value="Handoff: Cyfronet IPv4&#10;RJ45/ether1" style="shape=process;whiteSpace=wrap;rounded=1;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="100" width="220" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="cyf6" value="Handoff: Cyfronet IPv6&#10;RJ45/ether2" style="shape=process;whiteSpace=wrap;rounded=1;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="180" width="220" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ose" value="Handoff: OSE&#10;RJ45/ether3" style="shape=process;whiteSpace=wrap;rounded=1;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="260" width="220" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="mche" value="MChE Router / urządzenie brzegowe&#10;RJ45/ether4 (bridge-Cyfronet_IPv4)" style="shape=process;whiteSpace=wrap;rounded=1;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="340" width="260" height="70" as="geometry"/>
        </mxCell>

        <mxCell id="router" value="CCR1036&#10;ether1 IPv4 | ether2 IPv6 | ether3 OSE | ether4 do MChE&#10;ether5–8: LACP do sw-main" style="shape=card;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="420" y="170" width="360" height="150" as="geometry"/>
        </mxCell>

        <mxCell id="sfp1" value="OOB Mgmt (sfp1)&#10;192.168.88.1/24" style="shape=ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="430" y="70" width="160" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="core" value="sw-main (CORE)&#10;trunk LACP 4×GE (ether5–8)" style="shape=hexagon;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="430" y="380" width="340" height="100" as="geometry"/>
        </mxCell>

        <!-- Links -->
        <mxCell id="l1" edge="1" parent="1" source="cyf4" target="router" style="endArrow=block;endFill=1;"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="l2" edge="1" parent="1" source="cyf6" target="router" style="endArrow=block;endFill=1;"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="l3" edge="1" parent="1" source="ose" target="router" style="endArrow=block;endFill=1;"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="l4" edge="1" parent="1" source="mche" target="router" style="endArrow=block;endFill=1;"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="l5" edge="1" parent="1" source="router" target="core" style="endArrow=block;endFill=1;dashed=1;labelBackgroundColor=#fff;" value="LACP 4×GE (ether5–8)"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="l6" edge="1" parent="1" source="sfp1" target="router" style="endArrow=block;endFill=1;dashed=1;" value="OOB mgmt"><mxGeometry relative="1" as="geometry"/></mxCell>

        <!-- Bridges -->
        <mxCell id="bridge4" value="bridge-Cyfronet_IPv4&#10;porty: ether1 + ether4" style="shape=note;whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="800" y="170" width="240" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="bridge6" value="bridge-Cyfronet_IPv6&#10;port: ether2" style="shape=note;whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="800" y="260" width="200" height="60" as="geometry"/>
        </mxCell>

        <!-- Notes -->
        <mxCell id="notevlan" value="Trunki VLAN przenoszone przez LACP do sw-main (10,15,16,17,20,70,72,77,78,300,302,308,330,416–420)" style="shape=note;whiteSpace=wrap;html=1;rounded=1;fillColor=#e3f2fd;strokeColor=#64b5f6;" vertex="1" parent="1">
          <mxGeometry x="800" y="360" width="360" height="90" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>

</mxfile>