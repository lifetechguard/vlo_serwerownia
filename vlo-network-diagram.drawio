<mxfile host="app.diagrams.net" modified="2025-08-28 08:35:45" agent="python" version="20.8.23" editor="5.0.2" type="device">
  <diagram id="VLO-NET" name="VLO – Sieć (logic)">
    <mxGraphModel dx="1462" dy="827" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        
        <!-- Title -->
        <mxCell id="title" value="VLO – Topologia logiczna (CCR1036)" style="text;whiteSpace=wrap;html=1;fontSize=20;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="20" width="520" height="30" as="geometry"/>
        </mxCell>

        <!-- WAN group -->
        <mxCell id="wan-group" value="WAN / Łącza zewnętrzne" style="swimlane;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="40" y="70" width="430" height="270" as="geometry"/>
        </mxCell>

        <mxCell id="wan-cyf4" value="Cyfronet IPv4&#10;/29: 193.193.64.16/29&#10;GW: 193.193.64.17" style="shape=process;whiteSpace=wrap;rounded=1;html=1;" vertex="1" parent="wan-group">
          <mxGeometry x="20" y="40" width="180" height="70" as="geometry"/>
        </mxCell>

        <mxCell id="wan-cyf6" value="Cyfronet IPv6&#10;GW: 2001:6d8:0:1106::1" style="shape=process;whiteSpace=wrap;rounded=1;html=1;" vertex="1" parent="wan-group">
          <mxGeometry x="20" y="130" width="180" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="wan-ose" value="OSE (Internet uczniowie)&#10;ether3 (masq)" style="shape=process;whiteSpace=wrap;rounded=1;html=1;" vertex="1" parent="wan-group">
          <mxGeometry x="20" y="205" width="180" height="50" as="geometry"/>
        </mxCell>

        <!-- CCR -->
        <mxCell id="router" value="CCR1036 (RouterOS 7.18.2)&#10;ether1 IPv4, ether2 IPv6, ether3 OSE&#10;bonding (LACP 4xGE) → sw-core&#10;tablice: main, ose" style="shape=card;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="540" y="120" width="320" height="120" as="geometry"/>
        </mxCell>

        <!-- Links WAN -> CCR -->
        <mxCell id="e1" edge="1" parent="1" source="wan-cyf4" target="router" style="endArrow=block;endFill=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e2" edge="1" parent="1" source="wan-cyf6" target="router" style="endArrow=block;endFill=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e3" edge="1" parent="1" source="wan-ose" target="router" style="endArrow=block;endFill=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Core switch -->
        <mxCell id="core" value="sw-main (CORE)&#10;Trunk LACP (4xGE)&#10;VLAN: 10,15,16,17,20,70,72,77,78,300,302,308,330,416-420" style="shape=hexagon;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="540" y="300" width="320" height="110" as="geometry"/>
        </mxCell>

        <!-- LACP link -->
        <mxCell id="e4" edge="1" parent="1" source="router" target="core" style="endArrow=block;endFill=1;dashed=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Zones group -->
        <mxCell id="zones" value="Strefy / VLAN" style="swimlane;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="900" y="70" width="920" height="800" as="geometry"/>
        </mxCell>

        <!-- Individual VLAN cards (some representative) -->
        <mxCell id="v10" value="VLAN10 – Management&#10;10.10.0.0/16&#10;GW 10.10.0.1&#10;DHCP relay→10.10.0.7" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones">
          <mxGeometry x="20" y="40" width="220" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="v15" value="VLAN15 – WiFi Mgmt&#10;10.5.0.0/24&#10;GW 10.5.0.1&#10;DHCP relay" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones">
          <mxGeometry x="260" y="40" width="220" height="90" as="geometry"/>
        </mxCell>

        <mxCell id="v16" value="VLAN16 – VoiceIP&#10;10.6.0.0/24&#10;GW 10.6.0.1" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones">
          <mxGeometry x="500" y="40" width="220" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="v17" value="VLAN17 – Monitoring&#10;10.7.0.0/24&#10;GW 10.7.0.1" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones">
          <mxGeometry x="740" y="40" width="220" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="v20" value="VLAN20 – Services&#10;10.20.0.0/24&#10;GW 10.20.0.1&#10;DC1 .231 | DC2 .232&#10;Wazuh .228 | Dysk .229&#10;FOG .230/.240" style="shape=card;whiteSpace=wrap;html=1;rounded=1;strokeColor=#60a917;" vertex="1" parent="zones">
          <mxGeometry x="20" y="160" width="300" height="140" as="geometry"/>
        </mxCell>

        <mxCell id="v300" value="VLAN300 – Serwery publiczne&#10;IPv4: 193.193.65.224/27 (GW .225)&#10;IPv6: 2001:6d8:1000::/64" style="shape=card;whiteSpace=wrap;html=1;rounded=1;strokeColor=#cc0000;" vertex="1" parent="zones">
          <mxGeometry x="340" y="160" width="300" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="v302" value="VLAN302 – Administracja&#10;192.168.2.0/24&#10;GW 192.168.2.1" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones">
          <mxGeometry x="660" y="160" width="220" height="90" as="geometry"/>
        </mxCell>

        <mxCell id="v308" value="VLAN308 – Pracownie&#10;192.168.8.0/21&#10;GW 192.168.8.1" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones">
          <mxGeometry x="20" y="320" width="260" height="90" as="geometry"/>
        </mxCell>

        <mxCell id="v330" value="VLAN330 – INF3&#10;192.168.30.0/24&#10;GW 192.168.30.1&#10;RP PIM: 192.168.30.1" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones">
          <mxGeometry x="300" y="320" width="260" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="v416" value="VLAN416 – WiFi uczniowie&#10;172.16.0.0/22&#10;GW 172.16.0.1&#10;routing→'ose' (OSE)" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones">
          <mxGeometry x="580" y="320" width="260" height="110" as="geometry"/>
        </mxCell>

        <mxCell id="v417" value="VLAN417 – WiFi nauczyciele&#10;172.17.0.0/23&#10;GW 172.17.0.1" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones">
          <mxGeometry x="860" y="320" width="220" height="90" as="geometry"/>
        </mxCell>

        <mxCell id="v418" value="VLAN418 – WiFi goście&#10;172.18.0.0/24&#10;GW 172.18.0.1" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones">
          <mxGeometry x="20" y="440" width="220" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="v419" value="VLAN419 – WiFi staff&#10;172.19.0.0/23&#10;GW 172.19.0.1" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones">
          <mxGeometry x="260" y="440" width="220" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="v420" value="VLAN420 – Classroom.VLO&#10;172.20.0.0/24&#10;GW 172.20.0.1" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones">
          <mxGeometry x="500" y="440" width="220" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="v70" value="VLAN70 – MChE WiFi&#10;10.4.70.0/24 • GW .253" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones">
          <mxGeometry x="740" y="440" width="220" height="70" as="geometry"/>
        </mxCell>

        <mxCell id="v72" value="VLAN72 – MChE TelePresence&#10;10.4.72.0/24 • GW .253" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones">
          <mxGeometry x="20" y="540" width="220" height="70" as="geometry"/>
        </mxCell>

        <mxCell id="v77" value="VLAN77 – MChE mgmt&#10;10.4.77.0/24 • GW .253" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones">
          <mxGeometry x="260" y="540" width="220" height="70" as="geometry"/>
        </mxCell>

        <mxCell id="v78" value="VLAN78 – MChE AP&#10;10.4.78.0/24 • GW .253" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="zones">
          <mxGeometry x="500" y="540" width="220" height="70" as="geometry"/>
        </mxCell>

        <!-- VPN group -->
        <mxCell id="vpn" value="VPN / Zarządzanie zdalne" style="swimlane;whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="40" y="370" width="430" height="230" as="geometry"/>
        </mxCell>

        <mxCell id="wg" value="WireGuard-admin&#10;10.10.104.0/24, 172.31.0.0/24&#10;port 13231&#10;peers: pyton, maciej" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="vpn">
          <mxGeometry x="20" y="40" width="250" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="ovpn" value="OpenVPN TCP/1194&#10;cert, TLS1.2&#10;profile: openvpn_frosty" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="vpn">
          <mxGeometry x="20" y="150" width="180" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="ike" value="IPsec IKEv2&#10;pool 192.168.100.100-199" style="shape=card;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="vpn">
          <mxGeometry x="220" y="150" width="180" height="60" as="geometry"/>
        </mxCell>

        <!-- Edges to router -->
        <mxCell id="e5" edge="1" parent="1" source="wg" target="router" style="endArrow=block;endFill=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e6" edge="1" parent="1" source="ovpn" target="router" style="endArrow=block;endFill=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e7" edge="1" parent="1" source="ike" target="router" style="endArrow=block;endFill=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- NAT mapping notes -->
        <mxCell id="nat" value="NAT mapowanie (Cyfronet IPv4):&#10;• Pracownie → 193.193.65.245–251&#10;• Staff → 193.193.65.252&#10;• Teacher → 193.193.65.251&#10;• Mgmt/VoIP/Mon → 193.193.65.253&#10;• Pozostałe → 193.193.65.254&#10;• Uczniowie (172.16/22) → OSE (masq)" style="shape=note;whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="540" y="440" width="320" height="180" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>